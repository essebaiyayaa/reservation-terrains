# Enable the rewrite engine
RewriteEngine On

# Set the base path - IMPORTANT!
RewriteBase /reservation-terrains/public/

# Force HTTPS (optionnel en production)
# RewriteCond %{HTTPS} off
# RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Prevent access to hidden files
RedirectMatch 404 /\..*$

# Prevent directory listing
Options -Indexes

# Protect config files
<FilesMatch "^\.">
    Order allow,deny
    Deny from all
</FilesMatch>

# Allow access to public files
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f

# Route all requests to index.php
RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]